---
tags: 
created_date: 2024-03-25 22:33
modified_date: ' 2024-03-25 22:33:42'
review_date: 
pomodoro_time: 
used_time: 
aliases:
---


和 [[extern]] 是反函数 

Static 是 Internal Linkage

Extern 是 External Linkage


在 C 语言中，`static` 关键字有两个主要的用途：影响变量的存储期（lifetime）和作用域（visibility）。以下是具体的使用情况：

### 1. 影响变量的存储期

- **局部静态变量**：通常，局部变量在函数调用时创建，并在函数返回时销毁。然而，如果局部变量被声明为`static`，它会在程序的执行期间持续存在，即使函数调用结束。这意味着该变量的值在函数的连续调用之间是持久的。局部静态变量的初始化只在第一次函数调用时进行。

  ```c
  void function() {
      static int count = 0; // count在第一次函数调用时初始化，之后不会再初始化
      count++;
      printf("%d\n", count);
  }
  ```
<!--ID: 1721824704204-->


### 2. 影响变量的作用域

- **全局静态变量**：全局变量默认在整个程序中是可见的，即从定义点到程序结束。如果全局变量被声明为`static`，则它的作用域被限制在定义它的文件中。这意味着，尽管其他文件可以声明相同名称的变量，它们引用的是不同的对象。

  ```c
  static int globalCount = 0; // 这个变量只在定义它的文件中可见
  ```

- **静态函数**：和全局静态变量类似，如果一个函数被声明为`static`，它的作用域被限制在定义它的文件内。这有助于减少命名空间的污染，使得同名函数可以在不同文件中独立定义。

  ```c
  static void helperFunction() {
      // 只能在这个文件中被调用
  }
  ```
<!--ID: 1721824704207-->


### 总结

`static`关键字在C语言中的主要作用是：

- 让局部变量的生命周期跨越函数调用。
- 限制全局变量和函数的可见性到定义它们的文件，提高封装性和减少全局命名冲突。

这些特性使得 `static` 关键字成为 C 语言中非常有用的工具，特别是在实现模块化和保持代码的封装性
方面。