
-   用重复的ACK替代NAK，解决信号冗余问题。

## rdt2.2概述

-   只用ACK，不用NAK，实现和rdt2.1一样的功能。
-   在检测到错误时，不发送NAK，但是接收方要发送判断上一次序号的ACK（同时包括序号）
-   用重复的ACK代替NAK

## rdt2.2有限状态机

![[Pasted image 20240708064401.png]]

![[Pasted image 20240708064532.png]]
-   发送方 将rdt2.1中的`isNAK(rcvpkt)`判断本次反馈是NAK，替代成判断上次序号的反馈是ACK，比如rdt2.2在“**等待ACK 0**”时，如果`isACK(rcvpkt, 1)`，则相当于收到来rdt2.1中的`isNAK(rcvpkt)`。其余不变。
-   接收方如果校验和检测出错，则发送上一次序号的ACK；在校验和检测正确时，发送ACK也需要带上本次的序号。

> ack1 , ack0 也就是两种状态呗, 换汤不换药, 不如说这里必须要1bit 的信息量